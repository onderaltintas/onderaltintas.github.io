<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="icon" type="image/png" href="./favicon2.jpg">
<title>n7k.be – Ne Yedik Be</title>
<style>
/* Mevcut stillerine dokunmuyorum, sadece yeni butonlar için küçük eklemeler yapıyorum */
:root {
  --bg: #f6f5f2;
  --card: #ffffff;
  --text: #1f1f1f;
  --muted: #6e6e6e;
  --accent: #111111;
  --warm: #b55a2a;
  --radius: 26px;
}

* { box-sizing: border-box; }

body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
  background: var(--bg);
  color: var(--text);
}

header {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: 80px;
  background: var(--bg);
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 40px;
  z-index: 1000;
}

.brand {
  font-size: 42px;
  font-weight: 800;
  letter-spacing: -1px;
}

.brand span {
  color: var(--warm);
}

/* Buton grubu için konteyner */
.nav-group {
  display: flex;
  gap: 10px;
}

.nav-btn {
  background: var(--accent);
  color: #fff;
  border: none;
  padding: 12px 22px;
  border-radius: 999px;
  font-size: 14px;
  cursor: pointer;
}

.share-btn {
  background: var(--warm); /* Paylaş butonu farklılaşsın diye warm rengini verdim */
}

.nav-btn.hidden {
  display: none;
}

/* Geri kalan CSS aynı... */
.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 140px 20px 80px;
}
.recipe-list {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
  gap: 36px;
}
.recipe-card {
  background: var(--card);
  border-radius: var(--radius);
  overflow: hidden;
  box-shadow: 0 15px 40px rgba(0,0,0,0.08);
  cursor: pointer;
  transition: transform .25s ease, box-shadow .25s ease;
}
.recipe-card:hover {
  transform: translateY(-6px);
  box-shadow: 0 25px 60px rgba(0,0,0,0.15);
}
.recipe-image {
  width: 100%;
  height: 220px;
  background-size: cover;
  background-position: center;
}
.recipe-content {
  padding: 28px;
}
.recipe-content h2 {
  margin: 0 0 12px;
  font-size: 22px;
}
.recipe-content p {
  margin: 0;
  color: var(--muted);
  font-size: 15px;
}
.viewer {
  position: fixed;
  top: 80px;
  left: 0;
  right: 0;
  bottom: 0;
  display: none;
  background: var(--bg);
  z-index: 900;
}
.viewer iframe {
  width: 100%;
  height: 100%;
  border: none;
}
footer {
  text-align: center;
  color: var(--muted);
  font-size: 14px;
  margin-top: 60px;
}
@media (max-width: 768px) {
  header { padding: 0 20px; }
  .brand { font-size: 34px; }
}
</style>
</head>

<body>

<header>
  <div class="brand">n7k<span>.be</span></div>
  <div class="nav-group">
    <button id="shareBtn" class="nav-btn share-btn hidden">Paylaş</button>
    <button id="homeBtn" class="nav-btn hidden">Ana Sayfa</button>
  </div>
</header>

<div class="container">
  <div id="listView" class="recipe-list"></div>
  <div id="viewer" class="viewer">
    <iframe id="recipeFrame"></iframe>
  </div>
  <footer>
    Ne yedik be • Tarif koleksiyonu
    <div style="margin-top: 15px; opacity: 0.5; filter: grayscale(100%);">
      <a href='https://free-hit-counters.net/'>Free-Hit-Counters.net</a> 
      <script type='text/javascript' src='https://www.freevisitorcounters.com/auth.php?id=5747332b0b9e43c42220ad5b639fae9fd6ea6a41'></script>
      <script type="text/javascript" src="https://www.freevisitorcounters.com/en/home/counter/1489840/t/3"></script>
    </div>
  </footer>
</div>

<script>
const recipes = [
  { title: "Avokadolu Scrambled Egg & Havyarlı Ekmek", desc: "Kremamsı yumurta, avokado tabanı ve soğuk havyar.", path: "/Avokadolu-Scrambled-Egg-Havyarlı-Ekmek/", image: "./Avokadolu-Scrambled-Egg-Havyarlı-Ekmek/gorsel.jpg" },
  { title: "Mango Sticky Rice", desc: "Michelin referanslı Tay tatlısı.", path: "/Mango-Sticky-Rice-Recipe/", image: "./Mango-Sticky-Rice-Recipe/gorsel.jpg" },
  { title: "Pastırmalı – Tulum Peynirli Fırın Domatesli Sandviç", desc: "Yağ, tuz ve asit dengesi üzerine kurulu net sandviç.", path: "/Pastırmalı-Tulum-Peynirli-Fırın-Domatesli-Sandviç/", image: "./Pastırmalı-Tulum-Peynirli-Fırın-Domatesli-Sandviç/gorsel.jpg" },
  { title: "Çıtır Halka Kalamar & Tarator Sos", desc: "Kısa kızartılmış kalamar ve klasik tarator.", path: "/Çıtır-Halka-Kalamar-ve-Tarator-Sos/", image: "./Çıtır-Halka-Kalamar-ve-Tarator-Sos/gorsel.jpg" },
  { title: "Wokta Ananaslı Sweet Chili Tavuk", desc: "Yüksek ısıda mühürlenmiş, tatlı-acı dengeli wok yemeği.", path: "/Wokta-Ananaslı-Sweet-Chili-Tavuk/", image: "./Wokta-Ananaslı-Sweet-Chili-Tavuk/gorsel.jpg" },
  { title: "Ananaslı ve İzmir Tulumlu Tavuk Dürüm", desc: "Yüksek ateşte mühürlenen tavuk, kontrollü tatlılıkta ananas ve ölçülü İzmir tulumu ile dengeli bir dürüm.", path: "/Ananaslı-İzmir-Tulumlu-Tavuk-Dürüm/", image: "./Ananaslı-İzmir-Tulumlu-Tavuk-Dürüm/gorsel.jpg" },
  { title: "Dolapta Kalmış Bagetle İzmir Tulumlu Çırpılmış Yumurta ve Dandik Dardanel Siyah Havyar", desc: "Yüksek ateşte mühürlenen tavuk,kontrollü tatlılıkta ananas ve ölçülü İzmir tulumu ile dengeli bir dürüm.", path: "/Dolapta-Kalmış-Bagetle-İzmir-Tulumlu-Çırpılmış-Yumurta-ve-Dandik-Dardanel-Siyah-Havyar/", image: "./Dolapta-Kalmış-Bagetle-İzmir-Tulumlu-Çırpılmış-Yumurta-ve-Dandik-Dardanel-Siyah-Havyar/gorsel.jpg" },
  { title: "Bağışıklık Destek Salatası", desc: "Grip döneminde vücudu yormadan, ferah ve dengeli beslenmek için asidite ve yağ oranı kontrollü bir salata.", path: "/Bağışıklık-Destek-Salatası/", image: "./Bağışıklık-Destek-Salatası/gorsel.jpg" },
  { title: "Un Helvası", desc: "Un, su, yağ, şeker başka malzeme istemeyen gariban tatlısı Un helvası, gece canınız tatlı isterse diye", path: "/Un-Helvası/", image: "./Un-Helvası/gorsel.jpg" }
];

const listView = document.getElementById("listView");
const viewer = document.getElementById("viewer");
const frame = document.getElementById("recipeFrame");
const homeBtn = document.getElementById("homeBtn");
const shareBtn = document.getElementById("shareBtn");

let currentRecipePath = "";

function renderList() {
  listView.innerHTML = "";
  recipes.forEach(r => {
    const card = document.createElement("div");
    card.className = "recipe-card";
    card.innerHTML = `
      <div class="recipe-image" style="background-image:url('${r.image}')"></div>
      <div class="recipe-content">
        <h2>${r.title}</h2>
        <p>${r.desc}</p>
      </div>
    `;
    card.onclick = () => openRecipe(r.path);
    listView.appendChild(card);
  });
}

function openRecipe(path) {
  currentRecipePath = path;
  frame.src = "." + path + "index.html";
  listView.style.display = "none";
  viewer.style.display = "block";
  homeBtn.classList.remove("hidden");
  shareBtn.classList.remove("hidden");
}

function goHome() {
  // Geri döndüğümüzde URL parametresini temizleyelim
  const url = new URL(window.location);
  url.searchParams.delete('shared');
  window.history.replaceState({}, '', url);

  frame.src = "";
  viewer.style.display = "none";
  listView.style.display = "grid";
  homeBtn.classList.add("hidden");
  shareBtn.classList.add("hidden");
}

function copyShareLink() {
  // Path'ten başındaki ve sonundaki slash'ları temizleyip query'e uygun hale getirelim
  const slug = currentRecipePath.replace(/\//g, '');
  const shareUrl = `${window.location.origin}${window.location.pathname}?shared=${slug}`;
  
  navigator.clipboard.writeText(shareUrl).then(() => {
    const originalText = shareBtn.innerText;
    shareBtn.innerText = "Kopyalandı!";
    setTimeout(() => {
      shareBtn.innerText = originalText;
    }, 2000);
  });
}

// Sayfa yüklendiğinde parametre kontrolü
window.addEventListener('DOMContentLoaded', () => {
  const urlParams = new URLSearchParams(window.location.search);
  const sharedRecipe = urlParams.get('shared');
  
  if (sharedRecipe) {
    // Tarif listesinde eşleşen path'i bulalım
    const recipe = recipes.find(r => r.path.includes(sharedRecipe));
    if (recipe) {
      openRecipe(recipe.path);
    }
  }
});

homeBtn.addEventListener("click", goHome);
shareBtn.addEventListener("click", copyShareLink);

renderList();
</script>

</body>
</html>